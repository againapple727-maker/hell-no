<script>

window.onload=startSequence;

function startSequence(){

let count=3;
let cd=document.getElementById("countdown");
let msg=document.getElementById("message");

let timer=setInterval(()=>{

cd.innerHTML=count;

if(count===0){

clearInterval(timer);
cd.style.display="none";

showMessage();

setInterval(createHeart,120);

setTimeout(()=>{
document.getElementById("bgm").play().catch(()=>{});
},500);

}else{
count--;
}

},1000);

}

function showMessage(){

let msg=document.getElementById("message");

msg.style.display="block";
msg.style.opacity="1";

setTimeout(()=>{
msg.style.transition="opacity 2s";
msg.style.opacity="0";
},2000);

setTimeout(()=>{
msg.style.display="none";
showCloseScene();
},4000);

}

function showCloseScene(){
let close=document.createElement("div");
close.innerHTML="â¤ï¸ Always love you â¤ï¸";
close.style.fontSize="40px";
close.style.position="absolute";
close.style.textShadow="0 0 20px pink";

document.body.appendChild(close);
}

function createHeart(){
let heart=document.createElement("div");
heart.className="heart";
heart.innerHTML="ðŸ’–";
heart.style.left=Math.random()*100+"vw";
heart.style.top="100vh";
heart.style.fontSize=(15+Math.random()*30)+"px";

document.body.appendChild(heart);
setTimeout(()=>heart.remove(),6000);
}

</script>
